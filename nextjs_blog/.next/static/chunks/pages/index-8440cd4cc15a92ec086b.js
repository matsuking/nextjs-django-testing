(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{6489:function(e,t){"use strict";t.Q=function(e,t){if("string"!==typeof e)throw new TypeError("argument str must be a string");for(var r={},i=t||{},s=e.split(";"),a=i.decode||n,c=0;c<s.length;c++){var u=s[c],l=u.indexOf("=");if(!(l<0)){var h=u.substring(0,l).trim();if(void 0==r[h]){var f=u.substring(l+1,u.length).trim();'"'===f[0]&&(f=f.slice(1,-1)),r[h]=o(f,a)}}}return r},t.q=function(e,t,n){var o=n||{},s=o.encode||r;if("function"!==typeof s)throw new TypeError("option encode is invalid");if(!i.test(e))throw new TypeError("argument name is invalid");var a=s(t);if(a&&!i.test(a))throw new TypeError("argument val is invalid");var c=e+"="+a;if(null!=o.maxAge){var u=o.maxAge-0;if(isNaN(u)||!isFinite(u))throw new TypeError("option maxAge is invalid");c+="; Max-Age="+Math.floor(u)}if(o.domain){if(!i.test(o.domain))throw new TypeError("option domain is invalid");c+="; Domain="+o.domain}if(o.path){if(!i.test(o.path))throw new TypeError("option path is invalid");c+="; Path="+o.path}if(o.expires){if("function"!==typeof o.expires.toUTCString)throw new TypeError("option expires is invalid");c+="; Expires="+o.expires.toUTCString()}o.httpOnly&&(c+="; HttpOnly");o.secure&&(c+="; Secure");if(o.sameSite){switch("string"===typeof o.sameSite?o.sameSite.toLowerCase():o.sameSite){case!0:c+="; SameSite=Strict";break;case"lax":c+="; SameSite=Lax";break;case"strict":c+="; SameSite=Strict";break;case"none":c+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}}return c};var n=decodeURIComponent,r=encodeURIComponent,i=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/;function o(e,t){try{return t(e)}catch(n){return e}}},8869:function(e,t,n){"use strict";var r=n(9008),i=n(1664),o=n(5675),s=n(5893);t.Z=function(e){var t=e.children,n=e.title,a=void 0===n?"Nextjs":n;return(0,s.jsxs)("div",{className:"flex justify-center items-center flex-col min-h-screen font-mono",children:[(0,s.jsx)(r.default,{children:(0,s.jsx)("title",{children:a})}),(0,s.jsx)("header",{children:(0,s.jsx)("nav",{className:"bg-gray-800 w-screen",children:(0,s.jsx)("div",{className:"flex items-center pl-8 h-14",children:(0,s.jsxs)("div",{className:"flex space-x-4",children:[(0,s.jsx)(i.default,{href:"/",children:(0,s.jsx)("a",{"data-testid":"blog-nav",className:"text-gray-300 hover:bg-gray-700 px-3 py-2 rounded",children:"Blog"})}),(0,s.jsx)(i.default,{href:"/admin-page",children:(0,s.jsx)("a",{"data-testid":"admin-nav",className:"text-gray-300 hover:bg-gray-700 px-3 py-2 rounded",children:"Admin"})})]})})})}),(0,s.jsx)("main",{className:"flex flex-1 justify-center items-center flex-col w-screen",children:t}),(0,s.jsx)("footer",{className:"w-full h-12 flex justify-center items-center border-t",children:(0,s.jsxs)("a",{className:"flex items-center",href:"https://vercel.com?utm_source=create-next-app&utm_medium=default-template&utm_campaign=create-next-app",target:"_blank",rel:"noopener noreferrer",children:["Powered by",(0,s.jsx)(o.default,{src:"/vercel.svg",alt:"Vercel Logo",width:72,height:16})]})})]})}},2562:function(e,t,n){"use strict";n.r(t),n.d(t,{__N_SSG:function(){return f}});var r=n(266),i=n(809),o=n.n(i),s=n(7294),a=n(1664),c=n(8869),u=n(9585),l=n(5893),h=new u.Z,f=!0;t.default=function(e){var t=e.posts,n=(0,s.useState)(!1),i=n[0],u=n[1],f=function(){var e=(0,r.Z)(o().mark((function e(t){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat("http://127.0.0.1:8000/api","/delete-blog/").concat(t),{method:"DELETE",headers:{Authorization:"JWT ".concat(h.get("access-token"))}}).then((function(e){401===e.status&&alert("JWT Token not valid")}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return(0,s.useEffect)((function(){h.get("access-token")&&u(!0)}),[]),(0,l.jsxs)(c.Z,{title:"Blog",children:[(0,l.jsx)("p",{className:"text-4xl mb-10",children:"blog page"}),(0,l.jsx)("ul",{children:t&&t.map((function(e){return(0,l.jsxs)("li",{children:[(0,l.jsx)(a.default,{href:"/posts/".concat(e.id),children:(0,l.jsx)("a",{className:"cursor-pointer border-b border-gray-500 hover:bg-gray-300",children:e.title})}),i&&(0,l.jsx)("svg",{onClick:function(){return f(e.id)},"data-testid":"btn-".concat(e.id),className:"w-6 h-6 ml-10 float-right cursor-pointer",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})]},e.id)}))}),i&&(0,l.jsx)("svg",{"data-testid":"logout-icon",onClick:function(){h.remove("access-token"),u(!1)},className:"w-6 h-6 mt-10 cursor-pointer",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"})})]})}},5301:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return n(2562)}])},9585:function(e,t,n){"use strict";n.d(t,{Z:function(){return s}});var r=n(6489);function i(e,t){void 0===t&&(t={});var n=function(e){if(e&&"j"===e[0]&&":"===e[1])return e.substr(2);return e}(e);if(function(e,t){return"undefined"===typeof t&&(t=!e||"{"!==e[0]&&"["!==e[0]&&'"'!==e[0]),!t}(n,t.doNotParse))try{return JSON.parse(n)}catch(r){}return e}var o=function(){return(o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},s=function(){function e(e,t){var n=this;this.changeListeners=[],this.HAS_DOCUMENT_COOKIE=!1,this.cookies=function(e,t){return"string"===typeof e?r.Q(e,t):"object"===typeof e&&null!==e?e:{}}(e,t),new Promise((function(){n.HAS_DOCUMENT_COOKIE="object"===typeof document&&"string"===typeof document.cookie})).catch((function(){}))}return e.prototype._updateBrowserValues=function(e){this.HAS_DOCUMENT_COOKIE&&(this.cookies=r.Q(document.cookie,e))},e.prototype._emitChange=function(e){for(var t=0;t<this.changeListeners.length;++t)this.changeListeners[t](e)},e.prototype.get=function(e,t,n){return void 0===t&&(t={}),this._updateBrowserValues(n),i(this.cookies[e],t)},e.prototype.getAll=function(e,t){void 0===e&&(e={}),this._updateBrowserValues(t);var n={};for(var r in this.cookies)n[r]=i(this.cookies[r],e);return n},e.prototype.set=function(e,t,n){var i;"object"===typeof t&&(t=JSON.stringify(t)),this.cookies=o(o({},this.cookies),((i={})[e]=t,i)),this.HAS_DOCUMENT_COOKIE&&(document.cookie=r.q(e,t,n)),this._emitChange({name:e,value:t,options:n})},e.prototype.remove=function(e,t){var n=t=o(o({},t),{expires:new Date(1970,1,1,0,0,1),maxAge:0});this.cookies=o({},this.cookies),delete this.cookies[e],this.HAS_DOCUMENT_COOKIE&&(document.cookie=r.q(e,"",n)),this._emitChange({name:e,value:void 0,options:t})},e.prototype.addChangeListener=function(e){this.changeListeners.push(e)},e.prototype.removeChangeListener=function(e){var t=this.changeListeners.indexOf(e);t>=0&&this.changeListeners.splice(t,1)},e}()},266:function(e,t,n){"use strict";function r(e,t,n,r,i,o,s){try{var a=e[o](s),c=a.value}catch(u){return void n(u)}a.done?t(c):Promise.resolve(c).then(r,i)}function i(e){return function(){var t=this,n=arguments;return new Promise((function(i,o){var s=e.apply(t,n);function a(e){r(s,i,o,a,c,"next",e)}function c(e){r(s,i,o,a,c,"throw",e)}a(void 0)}))}}n.d(t,{Z:function(){return i}})}},function(e){e.O(0,[247,774,888,179],(function(){return t=5301,e(e.s=t);var t}));var t=e.O();_N_E=t}]);