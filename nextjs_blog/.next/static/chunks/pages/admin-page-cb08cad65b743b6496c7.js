(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[874],{8869:function(e,t,n){"use strict";var r=n(9008),a=n(1664),s=n(5675),c=n(5893);t.Z=function(e){var t=e.children,n=e.title,i=void 0===n?"Nextjs":n;return(0,c.jsxs)("div",{className:"flex justify-center items-center flex-col min-h-screen font-mono",children:[(0,c.jsx)(r.default,{children:(0,c.jsx)("title",{children:i})}),(0,c.jsx)("header",{children:(0,c.jsx)("nav",{className:"bg-gray-800 w-screen",children:(0,c.jsx)("div",{className:"flex items-center pl-8 h-14",children:(0,c.jsxs)("div",{className:"flex space-x-4",children:[(0,c.jsx)(a.default,{href:"/",children:(0,c.jsx)("a",{"data-testid":"blog-nav",className:"text-gray-300 hover:bg-gray-700 px-3 py-2 rounded",children:"Blog"})}),(0,c.jsx)(a.default,{href:"/admin-page",children:(0,c.jsx)("a",{"data-testid":"admin-nav",className:"text-gray-300 hover:bg-gray-700 px-3 py-2 rounded",children:"Admin"})})]})})})}),(0,c.jsx)("main",{className:"flex flex-1 justify-center items-center flex-col w-screen",children:t}),(0,c.jsx)("footer",{className:"w-full h-12 flex justify-center items-center border-t",children:(0,c.jsxs)("a",{className:"flex items-center",href:"https://vercel.com?utm_source=create-next-app&utm_medium=default-template&utm_campaign=create-next-app",target:"_blank",rel:"noopener noreferrer",children:["Powered by",(0,c.jsx)(s.default,{src:"/vercel.svg",alt:"Vercel Logo",width:72,height:16})]})})]})}},9436:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return f}});var r=n(266),a=n(809),s=n.n(a),c=n(7294),i=n(1163),l=n(9585),o=n(9669),u=n.n(o),d=n(5893),p=new l.Z,x=function(){var e=(0,i.useRouter)(),t=(0,c.useState)(""),n=t[0],a=t[1],l=(0,c.useState)(""),o=l[0],x=l[1],h=(0,c.useState)(!0),f=h[0],m=h[1],g=(0,c.useState)(""),j=g[0],v=g[1],y=function(){var t=(0,r.Z)(s().mark((function t(){var r,a;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,u().post("".concat("http://127.0.0.1:8000/api","/jwt/create/"),{username:n,password:o},{headers:{"Content-Type":"application/json"}});case 3:200===(r=t.sent).status&&(a={path:"/"},p.set("access_token",r.data.access,a),e.push("/")),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),v("Login Error");case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(){return t.apply(this,arguments)}}(),b=function(){var e=(0,r.Z)(s().mark((function e(t){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),!f){e.next=5;break}y(),e.next=15;break;case 5:return e.prev=5,e.next=8,u().post("".concat("http://127.0.0.1:8000/api","/register/"),{username:n,password:o},{headers:{"Content-Type":"application/json"}});case 8:201===e.sent.status&&y(),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(5),v("Registration Error");case 15:case"end":return e.stop()}}),e,null,[[5,12]])})));return function(t){return e.apply(this,arguments)}}();return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("p",{className:"text-3xl text-center",children:f?"Login":"Sign up"}),(0,d.jsxs)("form",{onSubmit:b,className:"mt-8 space-y-3",children:[(0,d.jsx)("div",{children:(0,d.jsx)("input",{type:"text",required:!0,className:"px-3 py-2 border border-gray-300",placeholder:"Username",value:n,onChange:function(e){a(e.target.value)}})}),(0,d.jsx)("div",{children:(0,d.jsx)("input",{type:"password",required:!0,className:"px-3 py-2 border border-gray-300",placeholder:"Password",value:o,onChange:function(e){x(e.target.value)}})}),(0,d.jsx)("p",{"data-testid":"mode-change",onClick:function(){m(!f),v("")},className:"cursor-pointer flex items-center justify-center flex-col font-medium hover:text-indigo-500 ",children:"change mode ?"}),(0,d.jsx)("div",{className:"flex items-center justify-center flex-col",children:(0,d.jsx)("button",{disabled:!n||!o,type:"submit",className:"disabled:opacity-40 py-2 px-4 text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none",children:f?"Login with JWT":"Create new user"})})]}),j&&(0,d.jsx)("p",{className:"mt-5 text-red-600",children:j})]})},h=n(8869),f=function(){return(0,d.jsx)(h.Z,{title:"Admin",children:(0,d.jsx)(x,{})})}},2477:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/admin-page",function(){return n(9436)}])}},function(e){e.O(0,[247,806,774,888,179],(function(){return t=2477,e(e.s=t);var t}));var t=e.O();_N_E=t}]);